获取token的两种方式

curl -X POST  -d username=yi -d password=niconico http://localhost:8000/api-token-auth/

curl -X POST -H 'Content-Type: application/json' -d '{"username":"yi","password":"niconico"}' http://localhost:8000/api-token-auth/


利用token 请求别的api

curl http://127.0.0.1:8000/manage/air-waybills/ -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' --trace-ascii doc/debugdump.txt --location

curl http://127.0.0.1:8000/waybills/label/87/ -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' --trace-ascii doc/debugdump.txt

curl http://127.0.0.1:8000/api/waybills/6/ -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' -H 'Content-Type: application/json' --trace-ascii doc/debugdump.txt

带json 数据的请求
curl http://127.0.0.1:8000/api-ajax/test/ -d '{"foo":"bar"}' -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' -H 'Content-Type: application/json' --trace-ascii doc/debugdump.txt
curl http://127.0.0.1:8000/api-ajax/test/ -d '{"foos":"bar"}' -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' -H 'Content-Type: application/json' --trace-ascii doc/debugdump.txt



curl -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' -H 'Content-Type: application/json' --trace-ascii doc/debugdump.txt http://localhost:8000/api/waybill_bulk_create/ -d '{"waybills":[{"tracking_no":"JH17010100002","weight":"2","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"王五","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"男士手包 ","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]},{"tracking_no":"JH17010100002","weight":"1","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"三","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]},{"tracking_no":"JH17010100009","weight":"1","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"三","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]}]}'


curl -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' -H 'Content-Type: application/json' --trace-ascii doc/debugdump.txt http://localhost:8000/api/waybill_bulk_create/ -d '{"waybills":[{"tracking_no":"JH17010100002","weight":"-2","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"王五","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"男士手包 ","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]},{"tracking_no":"JH17010100002","weight":"1","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"三","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]},{"tracking_no":"JH17010100009","weight":"1","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"三","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]}]}'


curl -H 'Authorization: Token ccf2ced9ee72c7eb94318cbaf1ef412a9f010ac1' -H 'Content-Type: application/json' --trace-ascii doc/debugdump.txt http://localhost:8000/api/waybill_bulk_create/ -d '{"waybills":[{"tracking_no":"JH17010199999","weight":"-2","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"张三","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"nanbao","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]},{"tracking_no":"JH17010199999","weight":"2","init_loc":1,"recv_province":"北京市","recv_city":"北京市","recv_area":"东城区","recv_address":"胡同里大街","recv_zipcode":"12321","recv_name":"张三","recv_mobile":"1380001233","send_name":"Mary Chang","send_mobile":"899123200023","send_address":"13  Garabedian Dr","order_no":"","remark":"","person_id":"","goods":[{"unit_weight":"2.00","unit_price":"15.00","spec":"nanbao","brand":"coach","quantity":1,"hs_type":"","hs_type_no":"","sku":"8886","description":"包","english_name":"","unit":"","remark":""}]}]}'